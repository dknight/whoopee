(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports=n.p+"static/media/list-olive.26e0b7b8.svg"},19:function(e,t,n){e.exports=n.p+"static/media/list-paprika.e0bb1434.svg"},20:function(e,t,n){e.exports=n.p+"static/media/list-salami.3f98044d.svg"},21:function(e,t,n){e.exports=n.p+"static/media/list-tomato.6008a1d2.svg"},22:function(e,t,n){e.exports=n.p+"static/media/list-mushroom.3b475bd3.svg"},23:function(e,t,n){e.exports=n.p+"static/media/list-onion.96d9de88.svg"},24:function(e,t,n){e.exports=n.p+"static/media/list-parsley.4ef87244.svg"},25:function(e,t,n){e.exports=n.p+"static/media/list-pineapple.08af149f.svg"},26:function(e,t,n){e.exports=n.p+"static/media/list-shrimp.3782e85e.svg"},27:function(e,t,n){e.exports=n.p+"static/media/list-sauce.539b2492.svg"},30:function(e,t,n){e.exports=n.p+"static/media/top-pizza-img.71fb0744.svg"},33:function(e,t,n){e.exports=n(77)},65:function(e,t,n){},67:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){},73:function(e,t,n){},75:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(17),o=n.n(i),c={BASE_PRICE:3,FLOAT_ROUND:2},l=function(e){return Number.isNaN(e)||null==e?"0.00\u20ac":e.toFixed(c.FLOAT_ROUND).toString()+"\u20ac"},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e.filter(function(e){return e.used}).reduce(function(e,t){return e+t.price},t)},u=n(5),s=n(18),m=n.n(s),p=n(19),f=n.n(p),E=n(20),g=n.n(E),v=n(21),h=n.n(v),b=n(22),I=n.n(b),N=n(23),R=n.n(N),O=n(24),D=n.n(O),T=n(25),y=n.n(T),w=n(26),S=n.n(w),_=n(27),G=n.n(_),k={olive:m.a,paprika:f.a,salami:g.a,tomato:h.a,mushroom:I.a,onion:R.a,parsley:D.a,pineapple:y.a,shrimp:S.a,sauce:G.a},z=function(e){var t=e.ingr,n=e.onClick;return a.a.createElement("li",{className:"Ingredient ".concat(t.used?"used":""),id:"ingredient-".concat(t.id),onClick:n},a.a.createElement(u.Draggable,{type:"ingredient",data:t.id},a.a.createElement("img",{className:"ingredient-image",src:k[t.slug],alt:t.name,title:t.name}),a.a.createElement("span",{className:"ingredient-name"},t.name),a.a.createElement("span",{className:"ingredient-price"},l(t.price))))},j=function(e){var t=e.ingredients,n=e.onUse;return a.a.createElement("div",{id:"ingredients-list-container"},a.a.createElement("h2",null,"Ingredients"),a.a.createElement("ul",{className:"IngredientList"},t.map(function(e,t){return a.a.createElement(z,{key:t,ingr:e,onClick:function(){return n(e)}})})))};j.defaultProps={ingredients:[],onUse:function(){}};var P=j,x=function(e){var t=e.ingredients,n=e.onDrop;return a.a.createElement("div",{id:"Pizza-container"},a.a.createElement(u.Droppable,{types:["ingredient"],onDrop:n},a.a.createElement("div",null,a.a.createElement("div",{id:"Pizza-base"},t.filter(function(e){return e.used}).map(function(e){return a.a.createElement(u.Draggable,{key:e.id,type:"dropoff",data:e.id},a.a.createElement("div",{className:"Pizza-ingredient Pizza-ingredient-".concat(e.id)}))})))))},C=n(6),U=n(4),L={USE_INGREDIENT:"USE_INGREDIENT",DROP_INGREDIENT:"DROP_INGREDIENT",FETCH_INGRIDIENTS:"FETCH_INGRIDIENTS",RESET_INGRIDIENTS:"RESET_INGRIDIENTS",ORDER_TOGGLE:"ORDER_TOGGLE",ORDER_SUBMIT:"ORDER_SUBMIT"},F=Object(C.c)({ingredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L.USE_INGREDIENT:case L.DROP_INGREDIENT:return e.map(function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L.USE_INGREDIENT:case L.DROP_INGREDIENT:return e.id===t.id?Object(U.a)({},e,{used:!t.used}):e;default:return e}}(e,t)});case L.FETCH_INGRIDIENTS:return t.ingredients;case L.RESET_INGRIDIENTS:return e.map(function(e){return Object(U.a)({},e,{used:!1})});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L.ORDER_TOGGLE:return{open:t.open};case L.ORDER_SUBMIT:return t;default:return e}}}),B=n(29),A=Object(C.a)(B.a,function(e){return function(e){return function(t){return e(t)}}}),H=Object(C.d)(F,{ingredients:[],order:{open:!1}},A),M=n(30),W=n.n(M),q=function(e){var t=e.toggleOrder;return a.a.createElement("div",{id:"TopPanel"},a.a.createElement("img",{id:"logo-img",src:W.a,alt:"Reactive Pizza"}),a.a.createElement("h1",null,"Reactive Pizza"),a.a.createElement("div",{id:"order-price"},a.a.createElement(ie,null)),a.a.createElement("button",{id:"order-button",onClick:function(){return function(){var e=!1;return e=H.getState().ingredients.filter(function(e){return e.used}).length>0||window.confirm("You havent choosed any ingredient do you wish to order empty base?"),t(e)}()}},"Order"))},Y=n(31),J=n.n(Y),Q=function(e){var t={type:L.DROP_INGREDIENT};return t="undefined"!==typeof e.dropoff?Object(U.a)({},t,{used:!0,id:e.dropoff}):Object(U.a)({},t,{used:!1,id:e.ingredient})},$=function(e){return{type:L.ORDER_TOGGLE,open:e}},K=function(e){var t=e.order,n=e.toggleOrder,r=e.submitOrder;return a.a.createElement("div",{className:"OrderForm ".concat(t.open?"opened":"")},a.a.createElement("div",{className:"order-inner"},a.a.createElement("h2",null,"Make order"),a.a.createElement("button",{id:"btn-order-close",onClick:function(){return n(!1)}},"\xd7"),a.a.createElement("table",{className:"table-order-ingredients"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Ingredient"),a.a.createElement("th",null,"Price"))),a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,"Pizza base"),a.a.createElement("td",null,l(3))),H.getState().ingredients.filter(function(e){return e.used}).map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",null,e.name),a.a.createElement("td",null,l(e.price)))})),a.a.createElement("tfoot",null,a.a.createElement("tr",{className:"total-row"},a.a.createElement("td",null,"Total"),a.a.createElement("td",null,a.a.createElement(ie,null))))),a.a.createElement("form",{id:"order-form",onSubmit:function(e){e.preventDefault();var t=H.getState().ingredients.filter(function(e){return e.used}),n={"order-name":e.target["order-name"].value,"order-address":e.target["order-address"].value,"order-email":e.target["order-email"].value,"order-phone":e.target["order-phone"].value,"order-message":e.target["order-message"].value,"order-ingredients":t,"order-price":d(t)};r(n),H.dispatch({type:L.RESET_INGRIDIENTS});var a="Thank you! Your order is sent to kitchen!\n";a+="Order's data for server:\n",a+=JSON.stringify(n),alert(a)}},a.a.createElement("h3",null,"Your data please:"),a.a.createElement("input",{type:"text",name:"order-name",id:"order-name",placeholder:"Your name*",required:!0}),a.a.createElement("input",{type:"tel",name:"porder-hone",id:"order-phone",placeholder:"Phone number*",required:!0}),a.a.createElement("input",{type:"email",name:"order-email",id:"order-email",placeholder:"E-mail*",required:!0}),a.a.createElement("input",{type:"address",name:"order-address",id:"order-address",placeholder:"Delivery address*",required:!0}),a.a.createElement("textarea",{name:"order-message",id:"order-message",placeholder:"Additional message"}),a.a.createElement("input",{id:"btn-order-submit",type:"submit",value:"Send to kitchen"}),a.a.createElement("p",{className:"disclaimer"},"* - mandatory fields"))))},V=function(e){var t=e.ingredients,n=d(t,c.BASE_PRICE);return a.a.createElement("span",{className:"price"},l(n))},X=function(e){var t=e.onDrop;return a.a.createElement(u.Droppable,{types:["dropoff"],onDrop:t},a.a.createElement("div",{id:"reactive-pizza-app"},a.a.createElement(ae,null),a.a.createElement(re,null),a.a.createElement("div",{id:"reactive-pizza-table"},a.a.createElement(ne,null),a.a.createElement(te,null))))},Z=n(3),ee=function(e){return{ingredients:e.ingredients,order:e.order}},te=Object(Z.b)(function(e){return ee(e)},function(e){return{onUse:function(t){var n;e((n=t,Object(U.a)({type:L.USE_INGREDIENT},n)))}}})(P),ne=Object(Z.b)(function(e){return ee(e)},function(e){return{onDrop:function(t){e(Q(t))}}})(x),re=Object(Z.b)(function(e){return{order:e.order}},function(e){return{toggleOrder:function(t){e($(t))}}})(q),ae=Object(Z.b)(function(e){return{order:e.order}},function(e){return{toggleOrder:function(t){e($(t))},submitOrder:function(t){e(function(e){return Object(U.a)({type:L.ORDER_SUBMIT},e)}(t))}}})(K),ie=Object(Z.b)(function(e){return function(e){return e}},function(e){return{}})(V),oe=Object(Z.b)(function(e){return{}},function(e){return{onDrop:function(t){e(Q(t))}}})(X),ce=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function le(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(65),n(67),n(69),n(71),n(73),n(75);document.addEventListener("keypress",function(e){27===e.keyCode&&H.dispatch($(!1))});var de,ue=document.getElementById("react-root");o.a.render(a.a.createElement(Z.a,{store:H},a.a.createElement(oe,null)),ue),H.dispatch((de="data/init-data.json",function(e){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:L.FETCH_INGRIDIENTS,ingredients:e}}()),J.a.get(de).then(function(t){return e({type:L.FETCH_INGRIDIENTS,ingredients:t.data.ingredients})}).catch(function(e){return Promise.reject(e)})})),function(){if("serviceWorker"in navigator){if(new URL("/pizza",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/pizza","/service-worker.js");ce?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):le(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):le(e)})}}()}},[[33,2,1]]]);
//# sourceMappingURL=main.61137c63.chunk.js.map