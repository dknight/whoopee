<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Rounding integers to a given step is a very common task, sometimes asked at technical interviews and very often such a task appears in daily jobs. "><meta name="keywords" content="lua, programming, algorithms, data-structures, gamedev, game development, blog, personal"><meta name="author" content="Dmitri Smirnov"><meta property="og:type" content="website"><meta property="og:url" content="https://www.whoop.ee/post/rounding-to-the-step.html"><meta property="og:image" content="https://www.whoop.ee/assets/img/logo.png"><meta http-equiv="Content-Security-Policy" content="script-src 'self'"><meta http-equiv="Content-Security-Policy" content="object-src 'none'"><title>Rounding a number to step &mdash; Whoopee</title><link rel="preload" href="/assets/fonts/Perfect_DOS_VGA_437.woff2" as="font"><link rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="stylesheet" href="/assets/css/styles.min.css"><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/feed.xml"><link rel="canonical" href="https://www.whoop.ee/post/rounding-to-the-step.html"></head><body><header><a href="/"><img src="/assets/img/dragon-logo.gif" width="200" height="172" alt="Whoopee" class="logo"></a><nav class="mainmenu"><a href="/me/">About</a> <a href="/feed.xml">RSS</a></nav></header><main><a href="/">&larr; Back to the index page</a><article><h1>Rounding a number to step</h1><time datetime="2024-06-21">June 21, 2024</time><p>Rounding integers to a given step is a very common task, often it is asked at technical interviews and very often such a task appears in daily jobs.</p><h2 id="algorithm">Algorithm<a class="headerlink" href="#algorithm" title="Permanent link">#</a></h2><p><img alt="Figure 01: Rounding to step " src="/assets/img/rounding-step.svg"></p><ol><li>(optional) Subtract <code>offset</code> from <code>x</code>; <code>text x = x - offset</code></li><li>divide <em>step #1 value</em> by <code>step</code>; <code>text x = x / step</code></li><li>(optional) to make it work like a round function, then add to the <em>step #3 value</em> <code>0.5</code>; <code>text x = x + 0.5</code></li><li>apply <code>math.ceil</code> function to <em>step #3 value</em>, <code>text x = ceil(x)</code></li><li>multiply <em>step #2 value</em> by <code>step</code>; <code>text x = x * 2</code></li><li>(optional) After adding an <code>offset</code> to the final result. <code>text x = x + offset</code></li></ol><h2 id="function-for-the-rounding">Function for the rounding<a class="headerlink" href="#function-for-the-rounding" title="Permanent link">#</a></h2><div class="codehilite"><pre><span></span><code><span class="c1">---@param n number</span>
<span class="c1">---@param step number</span>
<span class="c1">---@param offset? number is added to the result</span>
<span class="kd">local</span> <span class="kr">function</span> <span class="nf">round</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span>
    <span class="n">offset</span> <span class="o">=</span> <span class="n">offset</span> <span class="ow">or</span> <span class="mi">0</span>
    <span class="kr">return</span> <span class="nb">math.ceil</span><span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="n">offset</span><span class="p">)</span> <span class="o">/</span> <span class="n">step</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">*</span> <span class="n">step</span> <span class="o">+</span> <span class="n">offset</span>
<span class="kr">end</span>
</code></pre></div><h2 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">#</a></h2><div class="codehilite"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">round</span><span class="p">(</span><span class="o">-</span><span class="mi">643</span><span class="p">,</span> <span class="mi">50</span><span class="p">))</span> <span class="c1">--&gt; -650</span>
<span class="nb">print</span><span class="p">(</span><span class="n">round</span><span class="p">(</span><span class="o">-</span><span class="mi">117</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span> <span class="c1">--&gt; -120</span>
<span class="nb">print</span><span class="p">(</span><span class="n">round</span><span class="p">(</span><span class="o">-</span><span class="mi">113</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span> <span class="c1">--&gt; -110</span>
<span class="nb">print</span><span class="p">(</span><span class="n">round</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span> <span class="c1">--&gt; 0</span>
<span class="nb">print</span><span class="p">(</span><span class="n">round</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span> <span class="c1">--&gt; 10</span>
<span class="nb">print</span><span class="p">(</span><span class="n">round</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span> <span class="c1">--&gt; 10</span>
<span class="nb">print</span><span class="p">(</span><span class="n">round</span><span class="p">(</span><span class="mi">133</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span> <span class="c1">--&gt; 140</span>
<span class="nb">print</span><span class="p">(</span><span class="n">round</span><span class="p">(</span><span class="mi">122</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span> <span class="c1">--&gt; 120</span>
<span class="nb">print</span><span class="p">(</span><span class="n">round</span><span class="p">(</span><span class="mi">134</span><span class="p">,</span> <span class="mi">50</span><span class="p">))</span> <span class="c1">--&gt; 150</span>
<span class="nb">print</span><span class="p">(</span><span class="n">round</span><span class="p">(</span><span class="mi">1123</span><span class="p">,</span> <span class="mi">50</span><span class="p">))</span> <span class="c1">--&gt;1100</span>
</code></pre></div><h2>Feedback</h2><p>For feedback, please check the <a href="/me/">contacts</a> section. Before writing, please specify where you came from and who you are. Sometimes spammers go insane. Thank you in advance for your understanding.</p></article><a href="/">&larr; Back to the index page</a></main><footer><hr><p>(c) 2022-2025 <a href="/me/">xdknight</a> Powered by <a href="https://github.com/hmngwy/jenny">Jenny</a> shell blog engine. <a href="https://github.com/dknight/whoopee">Source code</a></p><p>Any images on this website may be used, copied and redistributed under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license.</p><p>Any code on this website may be used, copied and redistributed under the <a href="https://opensource.org/license/MIT">MIT</a> license.</p><p>This website <strong>does not</strong> use cookies or any tracking techniques either. Also, this page is fully accessible, responsive, and readable on any device without a single line of JavaScript.</p></footer></body></html>