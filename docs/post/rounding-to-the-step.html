<!doctype html><html lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="Rounding integers to a given step is a very common task, sometimes asked at technical interviews and very often such a task appears in daily jobs. " name=description><meta content="lua, programming, algorithms, data-structures, gamedev, game development, blog, personal" name=keywords><meta content="Dmitri Smirnov" name=author><meta content=website property=og:type><meta content=https://www.whoop.ee/post/rounding-to-the-step.html property=og:url><meta content=https://www.whoop.ee/assets/img/whoopee-logo-black.png property=og:image><meta content="script-src 'self'" http-equiv=Content-Security-Policy><meta content="object-src 'none'" http-equiv=Content-Security-Policy><title>Rounding a number to step — Whoopee</title><link as=font href=/assets/fonts/Perfect_DOS_VGA_437.woff2 rel=preload><link href=/favicon.ico rel=icon type=image/x-icon><link href=/assets/css/styles.min.css rel=stylesheet><link title="RSS Feed" href=/feed.xml rel=alternate type=application/rss+xml><link href=https://www.whoop.ee/post/rounding-to-the-step.html rel=canonical><body><header><a href=/><img alt=Whoopee class=logo height=172 src=/assets/img/whoopee-logo.png width=200></a><nav class=mainmenu><a href=/me/>About</a><a href=/feed.xml>RSS</a></nav></header><main><a href=/>← Back to the index page</a><article><h1>Rounding a number to step</h1><time datetime=2024-06-21> June 21, 2024 </time><p>Rounding integers to a given step is a very common task, often it is asked at technical interviews and very often such a task appears in daily jobs.<h2 id=algorithm>Algorithm<a title="Permanent link" class=headerlink href=#algorithm>#</a></h2><p><img alt="Figure 01: Rounding to step " src=/assets/img/rounding-step.svg><ol><li>(optional) Subtract <code>offset</code> from <code>x</code>; <code>text
    x = x - offset</code><li>divide <em>step #1 value</em> by <code>step</code>; <code>text
    x = x / step</code><li>(optional) to make it work like a round function, then add to the <em>step #3 value</em> <code>0.5</code>; <code>text
    x = x + 0.5</code><li>apply <code>math.ceil</code> function to <em>step #3 value</em>, <code>text
    x = ceil(x)</code><li>multiply <em>step #2 value</em> by <code>step</code>; <code>text
    x = x * 2</code><li>(optional) After adding an <code>offset</code> to the final result. <code>text
    x = x + offset</code></ol><h2 id=function-for-the-rounding>Function for the rounding<a title="Permanent link" class=headerlink href=#function-for-the-rounding>#</a></h2><div class=codehilite><pre><span></span><code><span class=c1>---@param n number</span>
<span class=c1>---@param step number</span>
<span class=c1>---@param offset? number is added to the result</span>
<span class=kd>local</span> <span class=kr>function</span> <span class=nf>round</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>step</span><span class=p>,</span> <span class=n>offset</span><span class=p>)</span>
    <span class=n>offset</span> <span class=o>=</span> <span class=n>offset</span> <span class=ow>or</span> <span class=mi>0</span>
    <span class=kr>return</span> <span class=nb>math.ceil</span><span class=p>((</span><span class=n>x</span> <span class=o>-</span> <span class=n>offset</span><span class=p>)</span> <span class=o>/</span> <span class=n>step</span> <span class=o>+</span> <span class=mf>0.5</span><span class=p>)</span> <span class=o>*</span> <span class=n>step</span> <span class=o>+</span> <span class=n>offset</span>
<span class=kr>end</span>
</code></pre></div><h2 id=examples>Examples<a title="Permanent link" class=headerlink href=#examples>#</a></h2><div class=codehilite><pre><span></span><code><span class=nb>print</span><span class=p>(</span><span class=n>round</span><span class=p>(</span><span class=o>-</span><span class=mi>643</span><span class=p>,</span> <span class=mi>50</span><span class=p>))</span> <span class=c1>--> -650</span>
<span class=nb>print</span><span class=p>(</span><span class=n>round</span><span class=p>(</span><span class=o>-</span><span class=mi>117</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>))</span> <span class=c1>--> -120</span>
<span class=nb>print</span><span class=p>(</span><span class=n>round</span><span class=p>(</span><span class=o>-</span><span class=mi>113</span><span class=p>,</span> <span class=mi>10</span><span class=p>))</span> <span class=c1>--> -110</span>
<span class=nb>print</span><span class=p>(</span><span class=n>round</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>10</span><span class=p>))</span> <span class=c1>--> 0</span>
<span class=nb>print</span><span class=p>(</span><span class=n>round</span><span class=p>(</span><span class=mi>9</span><span class=p>,</span> <span class=mi>10</span><span class=p>))</span> <span class=c1>--> 10</span>
<span class=nb>print</span><span class=p>(</span><span class=n>round</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>))</span> <span class=c1>--> 10</span>
<span class=nb>print</span><span class=p>(</span><span class=n>round</span><span class=p>(</span><span class=mi>133</span><span class=p>,</span> <span class=mi>20</span><span class=p>))</span> <span class=c1>--> 140</span>
<span class=nb>print</span><span class=p>(</span><span class=n>round</span><span class=p>(</span><span class=mi>122</span><span class=p>,</span> <span class=mi>20</span><span class=p>))</span> <span class=c1>--> 120</span>
<span class=nb>print</span><span class=p>(</span><span class=n>round</span><span class=p>(</span><span class=mi>134</span><span class=p>,</span> <span class=mi>50</span><span class=p>))</span> <span class=c1>--> 150</span>
<span class=nb>print</span><span class=p>(</span><span class=n>round</span><span class=p>(</span><span class=mi>1123</span><span class=p>,</span> <span class=mi>50</span><span class=p>))</span> <span class=c1>-->1100</span>
</code></pre></div><h2>Feedback</h2><p>For feedback, please check the <a href=/me/>contacts</a> section. Before writing, please specify where you came from and who you are. Sometimes spammers go insane. Thank you in advance for your understanding.</article><a href=/>← Back to the index page</a></main><footer><hr><p>(c) 2022-2025 <a href=/me/>xdknight</a> Powered by <a href=https://github.com/hmngwy/jenny>Jenny</a> shell blog engine.<p>Any images on this website may be used, copied and redistributed under the <a href=https://creativecommons.org/licenses/by/4.0/>CC BY 4.0</a> license.<p>Any code on this website may be used, copied and redistributed under the <a href=https://opensource.org/license/MIT>MIT</a> license.<p>This website does not use cookies or any tracking techniques either. Also, this page is fully accessible, responsive, and readable on any device without a single line of JavaScript.</footer>