<!doctype html><html lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="Definitive guide to logical operation in Lua. Ternary logical operator in Lua. Truth tables for AND, OR, NOT, XOR, NXOR. " name=description><meta content="lua, programming, algorithms, data-structures, gamedev, game development, blog, personal" name=keywords><meta content="Dmitri Smirnov" name=author><meta content=website property=og:type><meta content=https://www.whoop.ee/post/logic-in-lua.html property=og:url><meta content=https://www.whoop.ee/assets/img/whoopee-logo-black.png property=og:image><meta content="script-src 'self'" http-equiv=Content-Security-Policy><meta content="object-src 'none'" http-equiv=Content-Security-Policy><title>Logic in Lua: AND, OR, NOT, XOR, NXOR — Whoopee</title><link as=font href=/assets/fonts/Perfect_DOS_VGA_437.woff2 rel=preload><link href=/favicon.ico rel=icon type=image/x-icon><link href=/assets/css/styles.min.css rel=stylesheet><link title="RSS Feed" href=/feed.xml rel=alternate type=application/rss+xml><link href=https://www.whoop.ee/post/logic-in-lua.html rel=canonical><body><header><a href=/><img alt=Whoopee class=logo height=172 src=/assets/img/whoopee-logo.png width=200></a><nav class=mainmenu><a href=/me/>About</a><a href=/feed.xml>RSS</a></nav></header><main><a href=/>← Back to the index page</a><article><h1>Logic in Lua: AND, OR, NOT, XOR, NXOR</h1><time datetime=2024-10-08> October 08, 2024 </time><div><input class=toc-toggle id=toc-toggle type=checkbox><label for=toc-toggle>Table of contents</label></div><div class=toc><ul><li><a href=#logic-in-lua-and-or-not-xor-nxor>Logic in Lua: AND, OR, NOT, XOR, NXOR</a><ul><li><a href=#if-statements>If-statements</a><li><a href=#loops>Loops</a><li><a href=#assignment-to-variable>Assignment to variable</a><li><a href=#conditional-ternary-operator>Conditional ternary operator</a><li><a href=#logical-connectives-in-lua>Logical connectives in Lua</a><ul><li><a href=#and>AND</a><li><a href=#or>OR</a><li><a href=#not>NOT</a><li><a href=#xor>XOR</a><li><a href=#nxor>NXOR</a><li><a href=#truth-table>Truth table</a></ul><li><a href=#logical-tricks>Logical tricks</a><li><a href=#references>References</a></ul></ul></div><p>Logical operators in Lua are: <code>and</code>, <code>or</code>, and <code>not</code>. In addition to this here are covered <code>xor</code> and <code>nxor</code>. Logical operators always produce so-called <em>boolean</em> value: <code>true</code> or <code>false</code>.<p>In boolean algebra, such an operation is called:<ul><li><strong>and</strong>: conjunction;<li><strong>or</strong>: disjunction;<li><strong>not</strong>: negation.<li><strong>xor</strong>: exclusive disjunction.<li><strong>xnor</strong>: exclusive negative disjunction <em>XNOR = XOR Gate + NOT Gate</em>.</ul><p>In Lua language, <em>false</em> values are: <code>nil</code> and <code>false</code> everything else is interpreted as <code>true</code>.<div class="admonition tip"><p class=admonition-title>Tip<p>Don’t be confused with JavaScript, where <code>0</code> is false. In Lua 0 is also <code>true</code>.</div><p>Logical operators can be used in if-statements and loops, and the result can be assigned to a variable.<h2 id=if-statements>If-statements<a title="Permanent link" class=headerlink href=#if-statements>#</a></h2><div class=codehilite><pre><span></span><code><span class=kr>if</span> <span class=n>condition1</span> <span class=kr>then</span>
  <span class=c1>-- Statements are executed when condition(1) is true.</span>
<span class=kr>elseif</span> <span class=n>condition2</span> <span class=kr>then</span>
  <span class=c1>-- Statements are executed when condition(2) is true.</span>
<span class=kr>elseif</span> <span class=n>condition3</span> <span class=kr>then</span>
  <span class=c1>-- Statements are executed when condition(3) is true.</span>
<span class=kr>else</span>
  <span class=c1>-- Statements are executed in any other case.</span>
<span class=kr>end</span>
</code></pre></div><h2 id=loops>Loops<a title="Permanent link" class=headerlink href=#loops>#</a></h2><div class=codehilite><pre><span></span><code><span class=kr>while</span> <span class=n>condition</span> <span class=kr>do</span>
  <span class=c1>-- Statements are executed while a condition is true.</span>
<span class=kr>end</span>

<span class=kr>repeat</span>
  <span class=c1>-- Statements are executed until a condition is true.</span>
<span class=kr>until</span> <span class=n>condition</span>
</code></pre></div><h2 id=assignment-to-variable>Assignment to variable<a title="Permanent link" class=headerlink href=#assignment-to-variable>#</a></h2><div class=codehilite><pre><span></span><code><span class=kd>local</span> <span class=n>isBlack</span> <span class=o>=</span> <span class=kc>true</span>
<span class=kd>local</span> <span class=n>isRed</span> <span class=o>=</span> <span class=n>color</span> <span class=o>==</span> <span class=s2>"red"</span>
<span class=kd>local</span> <span class=n>isNotBlackButRed</span> <span class=o>=</span> <span class=n>color</span> <span class=o>~=</span> <span class=s2>"black"</span> <span class=ow>and</span> <span class=n>color</span> <span class=o>==</span> <span class=s2>"red"</span>
<span class=c1>-- etc.</span>
</code></pre></div><h2 id=conditional-ternary-operator>Conditional ternary operator<a title="Permanent link" class=headerlink href=#conditional-ternary-operator>#</a></h2><p>There is no ternary operator in Lua. But… both <strong>and</strong> and <strong>or</strong> use short-circuit evaluation; that means that second part of logical expression is evaluated only when necessary. Some examples from the <a href=https://www.lua.org/manual/5.4/manual.html#3.4.5>Lua manual</a>:<div class=codehilite><pre><span></span><code><span class=mi>10</span> <span class=ow>or</span> <span class=mi>20</span>            <span class=c1>--> 10</span>
<span class=mi>10</span> <span class=ow>or</span> <span class=nb>error</span><span class=p>()</span>       <span class=c1>--> 10</span>
<span class=kc>nil</span> <span class=ow>or</span> <span class=s2>"a"</span>          <span class=c1>--> "a"</span>
<span class=kc>nil</span> <span class=ow>and</span> <span class=mi>10</span>          <span class=c1>--> nil</span>
<span class=kc>false</span> <span class=ow>and</span> <span class=nb>error</span><span class=p>()</span>   <span class=c1>--> false</span>
<span class=kc>false</span> <span class=ow>and</span> <span class=kc>nil</span>       <span class=c1>--> false</span>
<span class=kc>false</span> <span class=ow>or</span> <span class=kc>nil</span>        <span class=c1>--> nil</span>
<span class=mi>10</span> <span class=ow>and</span> <span class=mi>20</span>           <span class=c1>--> 20</span>
</code></pre></div><p>The short-circuit evaluation can be used to emulate a conditional ternary operator.<p>Consider:<div class=codehilite><pre><span></span><code><span class=kc>true</span> <span class=ow>and</span> <span class=s2>"ok"</span> <span class=ow>or</span> <span class=s2>"nok"</span>   <span class=c1>--> "ok"</span>
<span class=mi>1</span> <span class=o>==</span> <span class=mi>2</span> <span class=ow>and</span> <span class=s2>"ok"</span> <span class=ow>or</span> <span class=s2>"nok"</span> <span class=c1>--> "nok"</span>
<span class=s2>"red"</span> <span class=o>==</span> <span class=s2>"green"</span> <span class=ow>and</span> <span class=s2>"Red is green"</span> <span class=ow>or</span> <span class=s2>"Red is not green"</span> <span class=c1>--> "Red is not green"</span>
</code></pre></div><p>There is a caveat. If you are using a function that returns two values and the first returned value is falsy (<strong>false</strong> or <strong>nil</strong>), consider:<div class=codehilite><pre><span></span><code><span class=kd>local</span> <span class=kr>function</span> <span class=nf>fn</span><span class=p>()</span>
    <span class=c1>-- ...</span>
    <span class=kr>return</span> <span class=kc>false</span><span class=p>,</span> <span class=mi>100</span>
<span class=kr>end</span>
</code></pre></div><p>In this case, only the first returned argument is evaluated. This confusion might lead to very hard-detecting errors and bugs.<div class=codehilite><pre><span></span><code><span class=kr>if</span> <span class=n>fn</span><span class=p>()</span> <span class=kr>then</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"True, not printed"</span><span class=p>)</span>
<span class=kr>else</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"False, printed"</span><span class=p>)</span>
<span class=kr>end</span>

<span class=c1>-- Output: "False, printed"</span>

<span class=c1>-- Same applies to ternary operator</span>

<span class=nb>print</span><span class=p>(</span><span class=n>fn</span><span class=p>()</span> <span class=ow>and</span> <span class=s2>"True, not printed"</span> <span class=ow>or</span> <span class=s2>"False, printed"</span><span class=p>)</span>
</code></pre></div><p>For myself, I make it a habit to not use functions that return multiple values. But of course there are exceptions. Depends on the task and personal preferences.<h2 id=logical-connectives-in-lua>Logical connectives in Lua<a title="Permanent link" class=headerlink href=#logical-connectives-in-lua>#</a></h2><h3 id=and>AND<a title="Permanent link" class=headerlink href=#and>#</a></h3><div class=codehilite><pre><span></span><code><span class=n>A</span> <span class=ow>and</span> <span class=n>B</span>
</code></pre></div><h3 id=or>OR<a title="Permanent link" class=headerlink href=#or>#</a></h3><div class=codehilite><pre><span></span><code><span class=n>A</span> <span class=ow>or</span> <span class=n>B</span>
</code></pre></div><h3 id=not>NOT<a title="Permanent link" class=headerlink href=#not>#</a></h3><div class=codehilite><pre><span></span><code><span class=ow>not</span> <span class=n>A</span>
</code></pre></div><h3 id=xor>XOR<a title="Permanent link" class=headerlink href=#xor>#</a></h3><p>Same as logical inequality.<div class=codehilite><pre><span></span><code><span class=ow>not</span> <span class=n>A</span> <span class=o>~=</span> <span class=ow>not</span> <span class=n>B</span>
</code></pre></div><h3 id=nxor>NXOR<a title="Permanent link" class=headerlink href=#nxor>#</a></h3><p>Same as logical equality.<div class=codehilite><pre><span></span><code><span class=ow>not</span> <span class=n>A</span> <span class=o>==</span> <span class=ow>not</span> <span class=n>B</span>
</code></pre></div><h3 id=truth-table>Truth table<a title="Permanent link" class=headerlink href=#truth-table>#</a></h3><table><thead><tr><th><th><th>AND<th>OR<th>NOT<th>XOR<th>NXOR<tbody><tr><td>A<td>B<td>A and B<td>A or B<td>not A<td>not A ~= not B<td>not A == not B<tr><td><code>true</code><td><code>true</code><td><code>true</code><td><code>true</code><td><code>false</code><td><code>false</code><td><code>true</code><tr><td><code>true</code><td><code>false</code><td><code>false</code><td><code>true</code><td><code>false</code><td><code>true</code><td><code>false</code><tr><td><code>false</code><td><code>true</code><td><code>false</code><td><code>true</code><td><code>true</code><td><code>true</code><td><code>false</code><tr><td><code>false</code><td><code>false</code><td><code>false</code><td><code>false</code><td><code>true</code><td><code>true</code><td><code>true</code></table><h2 id=logical-tricks>Logical tricks<a title="Permanent link" class=headerlink href=#logical-tricks>#</a></h2><p>Convert anything to boolean type; double negation can be used.<div class=codehilite><pre><span></span><code><span class=ow>not</span> <span class=ow>not</span> <span class=mi>1</span>              <span class=c1>--> true</span>
<span class=ow>not</span> <span class=ow>not</span> <span class=s2>"anything"</span>     <span class=c1>--> true</span>
<span class=ow>not</span> <span class=ow>not</span> <span class=kc>false</span>          <span class=c1>--> false</span>
<span class=ow>not</span> <span class=ow>not</span> <span class=kc>nil</span>            <span class=c1>--> false</span>
<span class=ow>not</span> <span class=ow>not</span> <span class=p>{</span><span class=n>a</span><span class=o>=</span> <span class=mi>1</span><span class=p>}</span>         <span class=c1>--> true</span>
<span class=ow>not</span> <span class=ow>not</span> <span class=kr>function</span><span class=p>()</span> <span class=kr>end</span> <span class=c1>--> true</span>
<span class=c1>-- and so on...</span>
</code></pre></div><p>Not only booleans can be negated.<div class=codehilite><pre><span></span><code><span class=ow>not</span> <span class=kc>nil</span>         <span class=c1>--> true</span>
<span class=ow>not</span> <span class=kc>false</span>       <span class=c1>--> true</span>
<span class=ow>not</span> <span class=mi>111</span>         <span class=c1>--> false</span>
<span class=ow>not</span> <span class=s2>"something"</span> <span class=c1>--> false</span>
<span class=ow>not</span> <span class=p>{</span><span class=n>a</span><span class=o>=</span><span class=mi>1</span><span class=p>}</span>       <span class=c1>--> false</span>
<span class=c1>-- and so on...</span>
</code></pre></div><h2 id=references>References<a title="Permanent link" class=headerlink href=#references>#</a></h2><ul><li><a href=https://en.wikipedia.org/wiki/Truth_table>Wikipedia: Truth_ table</a><li><a href=https://en.wikipedia.org/wiki/Boolean_algebra>Wikipedia: Boolean_algebra</a><li><a href=https://www.lua.org/manual/5.4/manual.html#3.4.5>Lua Manual: Logical Operators</a></ul><h2>Feedback</h2><p>For feedback, please check the <a href=/me/>contacts</a> section. Before writing, please specify where you came from and who you are. Sometimes spammers go insane. Thank you in advance for your understanding.</article><a href=/>← Back to the index page</a></main><footer><hr><p>(c) 2022-2025 <a href=/me/>xdknight</a> Powered by <a href=https://github.com/hmngwy/jenny>Jenny</a> shell blog engine.<p>Any images on this website may be used, copied and redistributed under the <a href=https://creativecommons.org/licenses/by/4.0/>CC BY 4.0</a> license.<p>Any code on this website may be used, copied and redistributed under the <a href=https://opensource.org/license/MIT>MIT</a> license.<p>This website does not use cookies or any tracking techniques either. Also, this page is fully accessible, responsive, and readable on any device without a single line of JavaScript.</footer>