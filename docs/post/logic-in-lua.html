<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Definitive guide to logical operation in Lua. Ternary logical operator in Lua. Truth tables for AND, OR, NOT, XOR, NXOR. "><meta name="keywords" content="lua, programming, algorithms, data-structures, gamedev, game development, blog, personal"><meta name="author" content="Dmitri Smirnov"><meta property="og:type" content="website"><meta property="og:url" content="https://www.whoop.ee/post/logic-in-lua.html"><meta property="og:image" content="https://www.whoop.ee/assets/img/lua-language.gif"><meta http-equiv="Content-Security-Policy" content="script-src 'self'"><meta http-equiv="Content-Security-Policy" content="object-src 'none'"><title>Logic in Lua: AND, OR, NOT, XOR, NXOR &mdash; Whoopee</title><link rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="stylesheet" href="/assets/css/styles.min.css"><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/feed.xml"><link rel="canonical" href="https://www.whoop.ee/post/logic-in-lua.html"></head><body><header><a href="/" class="logo">Whoopee</a><nav class="mainmenu"><a href="/me/">About</a> <a href="/feed.xml">RSS</a></nav></header><main><a href="/"><em>&larr; Back to the index page</em></a><article><h1>Logic in Lua: AND, OR, NOT, XOR, NXOR</h1><time datetime="2024-10-08">October 08, 2024</time><p><input type="checkbox" class="toc-toggle" id="toc-toggle"> <label for="toc-toggle">Table of contents</label></p><div class="toc"><ul><li><a href="#logic-in-lua-and-or-not-xor-nxor">Logic in Lua: AND, OR, NOT, XOR, NXOR</a><ul><li><a href="#if-statements">If-statements</a></li><li><a href="#loops">Loops</a></li><li><a href="#assignment-to-variable">Assignment to variable</a></li><li><a href="#conditional-ternary-operator">Conditional ternary operator</a></li><li><a href="#logical-connectives-in-lua">Logical connectives in Lua</a><ul><li><a href="#and">AND</a></li><li><a href="#or">OR</a></li><li><a href="#not">NOT</a></li><li><a href="#xor">XOR</a></li><li><a href="#nxor">NXOR</a></li><li><a href="#truth-table">Truth table</a></li></ul></li><li><a href="#logical-tricks">Logical tricks</a></li><li><a href="#references">References</a></li></ul></li></ul></div><p>Logical operators in Lua are: <code>and</code>, <code>or</code>, and <code>not</code>. In addition to this here are covered <code>xor</code> and <code>nxor</code>. Logical operators always produce so-called <em>boolean</em> value: <code>true</code> or <code>false</code>.</p><p>In boolean algebra, such an operation is called:</p><ul><li><strong>and</strong>: conjunction;</li><li><strong>or</strong>: disjunction;</li><li><strong>not</strong>: negation.</li><li><strong>xor</strong>: exclusive disjunction.</li><li><strong>xnor</strong>: exclusive negative disjunction <em>XNOR = XOR Gate + NOT Gate</em>.</li></ul><p>In Lua language, <em>false</em> values are: <code>nil</code> and <code>false</code> everything else is interpreted as <code>true</code>.</p><div class="admonition tip"><p class="admonition-title">Tip</p><p>Donâ€™t be confused with JavaScript, where <code>0</code> is false. In Lua 0 is also <code>true</code>.</p></div><p>Logical operators can be used in if-statements and loops, and the result can be assigned to a variable.</p><h2 id="if-statements">If-statements<a class="headerlink" href="#if-statements" title="Permanent link">&para;</a></h2><div class="codehilite"><pre><span></span><code><span class="kr">if</span> <span class="n">condition1</span> <span class="kr">then</span>
  <span class="c1">-- Statements are executed when condition(1) is true.</span>
<span class="kr">elseif</span> <span class="n">condition2</span> <span class="kr">then</span>
  <span class="c1">-- Statements are executed when condition(2) is true.</span>
<span class="kr">elseif</span> <span class="n">condition3</span> <span class="kr">then</span>
  <span class="c1">-- Statements are executed when condition(3) is true.</span>
<span class="kr">else</span>
  <span class="c1">-- Statements are executed in any other case.</span>
<span class="kr">end</span>
</code></pre></div><h2 id="loops">Loops<a class="headerlink" href="#loops" title="Permanent link">&para;</a></h2><div class="codehilite"><pre><span></span><code><span class="kr">while</span> <span class="n">condition</span> <span class="kr">do</span>
  <span class="c1">-- Statements are executed while a condition is true.</span>
<span class="kr">end</span>

<span class="kr">repeat</span>
  <span class="c1">-- Statements are executed until a condition is true.</span>
<span class="kr">until</span> <span class="n">condition</span>
</code></pre></div><h2 id="assignment-to-variable">Assignment to variable<a class="headerlink" href="#assignment-to-variable" title="Permanent link">&para;</a></h2><div class="codehilite"><pre><span></span><code><span class="kd">local</span> <span class="n">isBlack</span> <span class="o">=</span> <span class="kc">true</span>
<span class="kd">local</span> <span class="n">isRed</span> <span class="o">=</span> <span class="n">color</span> <span class="o">==</span> <span class="s2">&quot;red&quot;</span>
<span class="kd">local</span> <span class="n">isNotBlackButRed</span> <span class="o">=</span> <span class="n">color</span> <span class="o">~=</span> <span class="s2">&quot;black&quot;</span> <span class="ow">and</span> <span class="n">color</span> <span class="o">==</span> <span class="s2">&quot;red&quot;</span>
<span class="c1">-- etc.</span>
</code></pre></div><h2 id="conditional-ternary-operator">Conditional ternary operator<a class="headerlink" href="#conditional-ternary-operator" title="Permanent link">&para;</a></h2><p>There is no ternary operator in Lua. But&hellip; both <strong>and</strong> and <strong>or</strong> use short-circuit evaluation; that means that second part of logical expression is evaluated only when necessary. Some examples from the <a href="https://www.lua.org/manual/5.4/manual.html#3.4.5">Lua manual</a>:</p><div class="codehilite"><pre><span></span><code><span class="mi">10</span> <span class="ow">or</span> <span class="mi">20</span>            <span class="c1">--&gt; 10</span>
<span class="mi">10</span> <span class="ow">or</span> <span class="nb">error</span><span class="p">()</span>       <span class="c1">--&gt; 10</span>
<span class="kc">nil</span> <span class="ow">or</span> <span class="s2">&quot;a&quot;</span>          <span class="c1">--&gt; &quot;a&quot;</span>
<span class="kc">nil</span> <span class="ow">and</span> <span class="mi">10</span>          <span class="c1">--&gt; nil</span>
<span class="kc">false</span> <span class="ow">and</span> <span class="nb">error</span><span class="p">()</span>   <span class="c1">--&gt; false</span>
<span class="kc">false</span> <span class="ow">and</span> <span class="kc">nil</span>       <span class="c1">--&gt; false</span>
<span class="kc">false</span> <span class="ow">or</span> <span class="kc">nil</span>        <span class="c1">--&gt; nil</span>
<span class="mi">10</span> <span class="ow">and</span> <span class="mi">20</span>           <span class="c1">--&gt; 20</span>
</code></pre></div><p>The short-circuit evaluation can be used to emulate a conditional ternary operator.</p><p>Consider:</p><div class="codehilite"><pre><span></span><code><span class="kc">true</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">or</span> <span class="s2">&quot;nok&quot;</span>   <span class="c1">--&gt; &quot;ok&quot;</span>
<span class="mi">1</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span> <span class="s2">&quot;ok&quot;</span> <span class="ow">or</span> <span class="s2">&quot;nok&quot;</span> <span class="c1">--&gt; &quot;nok&quot;</span>
<span class="s2">&quot;red&quot;</span> <span class="o">==</span> <span class="s2">&quot;green&quot;</span> <span class="ow">and</span> <span class="s2">&quot;Red is green&quot;</span> <span class="ow">or</span> <span class="s2">&quot;Red is not green&quot;</span> <span class="c1">--&gt; &quot;Red is not green&quot;</span>
</code></pre></div><p>There is a caveat. If you are using a function that returns two values and the first returned value is falsy (<strong>false</strong> or <strong>nil</strong>), consider:</p><div class="codehilite"><pre><span></span><code><span class="kd">local</span> <span class="kr">function</span> <span class="nf">fn</span><span class="p">()</span>
    <span class="c1">-- ...</span>
    <span class="kr">return</span> <span class="kc">false</span><span class="p">,</span> <span class="mi">100</span>
<span class="kr">end</span>
</code></pre></div><p>In this case, only the first returned argument is evaluated. This confusion might lead to very hard-detecting errors and bugs.</p><div class="codehilite"><pre><span></span><code><span class="kr">if</span> <span class="n">fn</span><span class="p">()</span> <span class="kr">then</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;True, not printed&quot;</span><span class="p">)</span>
<span class="kr">else</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;False, printed&quot;</span><span class="p">)</span>
<span class="kr">end</span>

<span class="c1">-- Output: &quot;False, printed&quot;</span>

<span class="c1">-- Same applies to ternary operator</span>

<span class="nb">print</span><span class="p">(</span><span class="n">fn</span><span class="p">()</span> <span class="ow">and</span> <span class="s2">&quot;True, not printed&quot;</span> <span class="ow">or</span> <span class="s2">&quot;False, printed&quot;</span><span class="p">)</span>
</code></pre></div><p>For myself, I make it a habit to not use functions that return multiple values. But of course there are exceptions. Depends on the task and personal preferences.</p><h2 id="logical-connectives-in-lua">Logical connectives in Lua<a class="headerlink" href="#logical-connectives-in-lua" title="Permanent link">&para;</a></h2><h3 id="and">AND<a class="headerlink" href="#and" title="Permanent link">&para;</a></h3><div class="codehilite"><pre><span></span><code><span class="n">A</span> <span class="ow">and</span> <span class="n">B</span>
</code></pre></div><h3 id="or">OR<a class="headerlink" href="#or" title="Permanent link">&para;</a></h3><div class="codehilite"><pre><span></span><code><span class="n">A</span> <span class="ow">or</span> <span class="n">B</span>
</code></pre></div><h3 id="not">NOT<a class="headerlink" href="#not" title="Permanent link">&para;</a></h3><div class="codehilite"><pre><span></span><code><span class="ow">not</span> <span class="n">A</span>
</code></pre></div><h3 id="xor">XOR<a class="headerlink" href="#xor" title="Permanent link">&para;</a></h3><p>Same as logical inequality.</p><div class="codehilite"><pre><span></span><code><span class="ow">not</span> <span class="n">A</span> <span class="o">~=</span> <span class="ow">not</span> <span class="n">B</span>
</code></pre></div><h3 id="nxor">NXOR<a class="headerlink" href="#nxor" title="Permanent link">&para;</a></h3><p>Same as logical equality.</p><div class="codehilite"><pre><span></span><code><span class="ow">not</span> <span class="n">A</span> <span class="o">==</span> <span class="ow">not</span> <span class="n">B</span>
</code></pre></div><h3 id="truth-table">Truth table<a class="headerlink" href="#truth-table" title="Permanent link">&para;</a></h3><table><thead><tr><th></th><th></th><th>AND</th><th>OR</th><th>NOT</th><th>XOR</th><th>NXOR</th></tr></thead><tbody><tr><td>A</td><td>B</td><td>A and B</td><td>A or B</td><td>not A</td><td>not A ~= not B</td><td>not A == not B</td></tr><tr><td><code>true</code></td><td><code>true</code></td><td><code>true</code></td><td><code>true</code></td><td><code>false</code></td><td><code>false</code></td><td><code>true</code></td></tr><tr><td><code>true</code></td><td><code>false</code></td><td><code>false</code></td><td><code>true</code></td><td><code>false</code></td><td><code>true</code></td><td><code>false</code></td></tr><tr><td><code>false</code></td><td><code>true</code></td><td><code>false</code></td><td><code>true</code></td><td><code>true</code></td><td><code>true</code></td><td><code>false</code></td></tr><tr><td><code>false</code></td><td><code>false</code></td><td><code>false</code></td><td><code>false</code></td><td><code>true</code></td><td><code>true</code></td><td><code>true</code></td></tr></tbody></table><h2 id="logical-tricks">Logical tricks<a class="headerlink" href="#logical-tricks" title="Permanent link">&para;</a></h2><p>Convert anything to boolean type; double negation can be used.</p><div class="codehilite"><pre><span></span><code><span class="ow">not</span> <span class="ow">not</span> <span class="mi">1</span>              <span class="c1">--&gt; true</span>
<span class="ow">not</span> <span class="ow">not</span> <span class="s2">&quot;anything&quot;</span>     <span class="c1">--&gt; true</span>
<span class="ow">not</span> <span class="ow">not</span> <span class="kc">false</span>          <span class="c1">--&gt; false</span>
<span class="ow">not</span> <span class="ow">not</span> <span class="kc">nil</span>            <span class="c1">--&gt; false</span>
<span class="ow">not</span> <span class="ow">not</span> <span class="p">{</span><span class="n">a</span><span class="o">=</span> <span class="mi">1</span><span class="p">}</span>         <span class="c1">--&gt; true</span>
<span class="ow">not</span> <span class="ow">not</span> <span class="kr">function</span><span class="p">()</span> <span class="kr">end</span> <span class="c1">--&gt; true</span>
<span class="c1">-- and so on...</span>
</code></pre></div><p>Not only booleans can be negated.</p><div class="codehilite"><pre><span></span><code><span class="ow">not</span> <span class="kc">nil</span>         <span class="c1">--&gt; true</span>
<span class="ow">not</span> <span class="kc">false</span>       <span class="c1">--&gt; true</span>
<span class="ow">not</span> <span class="mi">111</span>         <span class="c1">--&gt; false</span>
<span class="ow">not</span> <span class="s2">&quot;something&quot;</span> <span class="c1">--&gt; false</span>
<span class="ow">not</span> <span class="p">{</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">}</span>       <span class="c1">--&gt; false</span>
<span class="c1">-- and so on...</span>
</code></pre></div><h2 id="references">References<a class="headerlink" href="#references" title="Permanent link">&para;</a></h2><ul><li><a href="https://en.wikipedia.org/wiki/Truth_table">Wikipedia: Truth_ table</a></li><li><a href="https://en.wikipedia.org/wiki/Boolean_algebra">Wikipedia: Boolean_algebra</a></li><li><a href="https://www.lua.org/manual/5.4/manual.html#3.4.5">Lua Manual: Logical Operators</a></li></ul><h2>Feedback</h2><p>For feedback, please check the <a href="/me/">contacts</a> section. Before writing, please specify where you came from and who you are. Sometimes spammers go insane. Thank you in advance for your understanding.</p></article><a href="/"><em>&larr; Back to the index page</em></a></main><footer><hr><p>&copy; 2022&mdash;2025 <a href="/me/">xdknight</a> Powered by <a href="https://github.com/hmngwy/jenny">Jenny</a> shell blog engine. <a href="https://github.com/dknight/whoopee">Source code</a></p><p>Any images on this website may be used, copied and redistributed under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license.</p><p>Any code on this website may be used, copied and redistributed under the <a href="https://opensource.org/license/MIT">MIT</a> license.</p><p>This website <strong>does not</strong> use cookies or any tracking techniques either. Also, this page is fully accessible, responsive, and readable on any device without a single line of JavaScript.</p></footer></body></html>